<style>
/*
  * { border: solid 1px grey; }
*/
  * { font-family: Helvetica, Arial, sans-serif; font-weight: 300; line-height: 1.25; letter-spacing: 0.01rem; }
  body { margin: 0 auto; max-width: 1000px; min-height: 1000px; } 
  textarea { width: 100%; height: 50%; padding: 10px; }
  textarea, p, pre { font-size: 20px; } 
  
</style>

<body>
<h1>Calculator</h1>
<div>
    <textarea autofocus></textarea>
    <p id="result"></p>

<pre>
This is basically just a javascript interpreter with an imported math library.  
It uses eval() so don't expect great error reporting

Available functions 
abs, acos, acosh, asin, asinh, atan, atanh, atan2, ceil, cbrt, expm1, clz32, cos, cosh, exp,
floor, fround, hypot, imul, log, log1p, log2, log10, max, min, pow, random, round, sign, sin, sinh, sqrt, tan,
tanh, trunc, E, LN10, LN2, LOG10E, LOG2E, PI, SQRT1_2, SQRT2

// Example
'comment'
"comment"
23423
x=2
y = x^2 + 3 + 4 - 5
2*234
a={x:2,y:3,z:0}
a.z = sqrt(a.x * a.y)
a.z.toString().slice(0,5)
JSON.stringify(a,null,4)

f = (a, b) => a * b;
f(2,3)

f = (x) => { return x**2; }
g=(x)=>x^3+x+1;
f(2)
g(1)


</pre>

</div>

<script>

  /* import Math */
  (function () { Object.getOwnPropertyNames(Math).forEach(function (a) { eval(a + "=" + "Math." + a + "\t") }); })();

  window.addEventListener("keyup", event => {

      let textarea, p, result, input;

      textarea = document.querySelector('textarea');
      p = document.querySelector('p#result');

      input = textarea.value.replace(/\^/g, "**")
      result = eval(input);
      p.innerHTML = "= " + result.toString();

  });

</script>
</body>
